<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Kapitel 9 Datenmanipulation | Einführung in R</title>
  <meta name="description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="Kapitel 9 Datenmanipulation | Einführung in R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kapitel 9 Datenmanipulation | Einführung in R" />
  
  <meta name="twitter:description" content="This is a minimal example of using the bookdown package to write a book. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="Stephan Goerigk" />


<meta name="date" content="2022-11-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="daten-auswählen.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R and der CFH</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="über-dieses-skript.html"><a href="über-dieses-skript.html"><i class="fa fa-check"></i>Über dieses Skript</a></li>
<li class="chapter" data-level="1" data-path="warum-ist-r-so-gut.html"><a href="warum-ist-r-so-gut.html"><i class="fa fa-check"></i><b>1</b> Warum ist R so gut?</a>
<ul>
<li class="chapter" data-level="1.1" data-path="warum-ist-r-so-gut.html"><a href="warum-ist-r-so-gut.html#open-source"><i class="fa fa-check"></i><b>1.1</b> Open Source</a></li>
<li class="chapter" data-level="1.2" data-path="warum-ist-r-so-gut.html"><a href="warum-ist-r-so-gut.html#vielseitigkeit"><i class="fa fa-check"></i><b>1.2</b> Vielseitigkeit</a></li>
<li class="chapter" data-level="1.3" data-path="warum-ist-r-so-gut.html"><a href="warum-ist-r-so-gut.html#r-markdown"><i class="fa fa-check"></i><b>1.3</b> R Markdown</a></li>
<li class="chapter" data-level="1.4" data-path="warum-ist-r-so-gut.html"><a href="warum-ist-r-so-gut.html#transparenz"><i class="fa fa-check"></i><b>1.4</b> Transparenz</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-materialien.html"><a href="r-materialien.html"><i class="fa fa-check"></i><b>2</b> R Materialien</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-materialien.html"><a href="r-materialien.html#cheat-sheets"><i class="fa fa-check"></i><b>2.1</b> Cheat Sheets</a></li>
<li class="chapter" data-level="2.2" data-path="r-materialien.html"><a href="r-materialien.html#hilfe-und-inspiration-online"><i class="fa fa-check"></i><b>2.2</b> Hilfe und Inspiration online</a></li>
<li class="chapter" data-level="2.3" data-path="r-materialien.html"><a href="r-materialien.html#andere-bücher"><i class="fa fa-check"></i><b>2.3</b> Andere Bücher</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>3</b> Installation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="installation.html"><a href="installation.html#installation-von-r"><i class="fa fa-check"></i><b>3.1</b> Installation von R</a></li>
<li class="chapter" data-level="3.2" data-path="installation.html"><a href="installation.html#installation-von-rstudio"><i class="fa fa-check"></i><b>3.2</b> Installation von RStudio</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="programmaufbau.html"><a href="programmaufbau.html"><i class="fa fa-check"></i><b>4</b> Programmaufbau</a>
<ul>
<li class="chapter" data-level="4.1" data-path="programmaufbau.html"><a href="programmaufbau.html#die-vier-rstudio-fenster"><i class="fa fa-check"></i><b>4.1</b> Die vier RStudio Fenster</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="programmaufbau.html"><a href="programmaufbau.html#source---ihr-schreibblock-für-code"><i class="fa fa-check"></i><b>4.1.1</b> Source - Ihr Schreibblock für Code</a></li>
<li class="chapter" data-level="4.1.2" data-path="programmaufbau.html"><a href="programmaufbau.html#konsole---das-herzstück-von-r"><i class="fa fa-check"></i><b>4.1.2</b> Konsole - Das Herzstück von R</a></li>
<li class="chapter" data-level="4.1.3" data-path="programmaufbau.html"><a href="programmaufbau.html#environmenthistory---das-gedächtnis-von-r"><i class="fa fa-check"></i><b>4.1.3</b> Environment/History - Das Gedächtnis von R</a></li>
<li class="chapter" data-level="4.1.4" data-path="programmaufbau.html"><a href="programmaufbau.html#filesplotspackageshelpviewer---interaktion-von-r-mit-dateien"><i class="fa fa-check"></i><b>4.1.4</b> Files/Plots/Packages/Help/Viewer - Interaktion von R mit Dateien</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="programmaufbau.html"><a href="programmaufbau.html#r-packages"><i class="fa fa-check"></i><b>4.2</b> R Packages</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="programmaufbau.html"><a href="programmaufbau.html#r-packages-installieren"><i class="fa fa-check"></i><b>4.2.1</b> R Packages installieren</a></li>
<li class="chapter" data-level="4.2.2" data-path="programmaufbau.html"><a href="programmaufbau.html#r-packages-laden"><i class="fa fa-check"></i><b>4.2.2</b> R Packages laden</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="datenformate.html"><a href="datenformate.html"><i class="fa fa-check"></i><b>5</b> Datenformate</a>
<ul>
<li class="chapter" data-level="5.1" data-path="datenformate.html"><a href="datenformate.html#skalar"><i class="fa fa-check"></i><b>5.1</b> Skalar</a></li>
<li class="chapter" data-level="5.2" data-path="datenformate.html"><a href="datenformate.html#vektor"><i class="fa fa-check"></i><b>5.2</b> Vektor</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="datenformate.html"><a href="datenformate.html#vektor-typen"><i class="fa fa-check"></i><b>5.2.1</b> Vektor Typen</a></li>
<li class="chapter" data-level="5.2.2" data-path="datenformate.html"><a href="datenformate.html#faktor-variablen"><i class="fa fa-check"></i><b>5.2.2</b> Faktor Variablen</a></li>
<li class="chapter" data-level="5.2.3" data-path="datenformate.html"><a href="datenformate.html#vektor-indizierung"><i class="fa fa-check"></i><b>5.2.3</b> Vektor Indizierung</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="datenformate.html"><a href="datenformate.html#matrizen-und-dataframes"><i class="fa fa-check"></i><b>5.3</b> Matrizen und Dataframes</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="datenformate.html"><a href="datenformate.html#erstellen-von-datenmatrizen"><i class="fa fa-check"></i><b>5.3.1</b> Erstellen von Datenmatrizen</a></li>
<li class="chapter" data-level="5.3.2" data-path="datenformate.html"><a href="datenformate.html#indizierung"><i class="fa fa-check"></i><b>5.3.2</b> Indizierung</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="daten-erstellen.html"><a href="daten-erstellen.html"><i class="fa fa-check"></i><b>6</b> Daten erstellen</a>
<ul>
<li class="chapter" data-level="6.1" data-path="daten-erstellen.html"><a href="daten-erstellen.html#manuell"><i class="fa fa-check"></i><b>6.1</b> Manuell</a></li>
<li class="chapter" data-level="6.2" data-path="daten-erstellen.html"><a href="daten-erstellen.html#automatisch"><i class="fa fa-check"></i><b>6.2</b> Automatisch</a></li>
<li class="chapter" data-level="6.3" data-path="daten-erstellen.html"><a href="daten-erstellen.html#zufällig"><i class="fa fa-check"></i><b>6.3</b> Zufällig</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="daten-importieren-und-speichern.html"><a href="daten-importieren-und-speichern.html"><i class="fa fa-check"></i><b>7</b> Daten importieren und speichern</a>
<ul>
<li class="chapter" data-level="7.1" data-path="daten-importieren-und-speichern.html"><a href="daten-importieren-und-speichern.html#funktionen-zur-organisation-des-workspace"><i class="fa fa-check"></i><b>7.1</b> Funktionen zur Organisation des Workspace</a></li>
<li class="chapter" data-level="7.2" data-path="daten-importieren-und-speichern.html"><a href="daten-importieren-und-speichern.html#arbeitsverzeichnis-working-directory"><i class="fa fa-check"></i><b>7.2</b> Arbeitsverzeichnis (Working Directory)</a></li>
<li class="chapter" data-level="7.3" data-path="daten-importieren-und-speichern.html"><a href="daten-importieren-und-speichern.html#working-environment"><i class="fa fa-check"></i><b>7.3</b> Working Environment</a></li>
<li class="chapter" data-level="7.4" data-path="daten-importieren-und-speichern.html"><a href="daten-importieren-und-speichern.html#daten-importieren"><i class="fa fa-check"></i><b>7.4</b> Daten importieren</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="daten-importieren-und-speichern.html"><a href="daten-importieren-und-speichern.html#rds-format"><i class="fa fa-check"></i><b>7.4.1</b> rds-Format</a></li>
<li class="chapter" data-level="7.4.2" data-path="daten-importieren-und-speichern.html"><a href="daten-importieren-und-speichern.html#csv-format"><i class="fa fa-check"></i><b>7.4.2</b> csv-Format</a></li>
<li class="chapter" data-level="7.4.3" data-path="daten-importieren-und-speichern.html"><a href="daten-importieren-und-speichern.html#sav-format"><i class="fa fa-check"></i><b>7.4.3</b> sav-Format</a></li>
<li class="chapter" data-level="7.4.4" data-path="daten-importieren-und-speichern.html"><a href="daten-importieren-und-speichern.html#xlsx-format"><i class="fa fa-check"></i><b>7.4.4</b> xlsx-Format</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="daten-importieren-und-speichern.html"><a href="daten-importieren-und-speichern.html#daten-speichern"><i class="fa fa-check"></i><b>7.5</b> Daten speichern</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="daten-importieren-und-speichern.html"><a href="daten-importieren-und-speichern.html#rds-format-1"><i class="fa fa-check"></i><b>7.5.1</b> rds-Format</a></li>
<li class="chapter" data-level="7.5.2" data-path="daten-importieren-und-speichern.html"><a href="daten-importieren-und-speichern.html#csv-format-1"><i class="fa fa-check"></i><b>7.5.2</b> csv-Format</a></li>
<li class="chapter" data-level="7.5.3" data-path="daten-importieren-und-speichern.html"><a href="daten-importieren-und-speichern.html#sav-format-1"><i class="fa fa-check"></i><b>7.5.3</b> sav-Format</a></li>
<li class="chapter" data-level="7.5.4" data-path="daten-importieren-und-speichern.html"><a href="daten-importieren-und-speichern.html#xlsx-format-1"><i class="fa fa-check"></i><b>7.5.4</b> xlsx-Format</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="daten-auswählen.html"><a href="daten-auswählen.html"><i class="fa fa-check"></i><b>8</b> Daten auswählen</a>
<ul>
<li class="chapter" data-level="8.1" data-path="daten-auswählen.html"><a href="daten-auswählen.html#vektor-1"><i class="fa fa-check"></i><b>8.1</b> Vektor</a></li>
<li class="chapter" data-level="8.2" data-path="daten-auswählen.html"><a href="daten-auswählen.html#dataframe"><i class="fa fa-check"></i><b>8.2</b> Dataframe</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="daten-auswählen.html"><a href="daten-auswählen.html#zeilen-fälle-auswählen"><i class="fa fa-check"></i><b>8.2.1</b> Zeilen (Fälle) auswählen</a></li>
<li class="chapter" data-level="8.2.2" data-path="daten-auswählen.html"><a href="daten-auswählen.html#spalten-variablen-auswählen"><i class="fa fa-check"></i><b>8.2.2</b> Spalten (Variablen) auswählen</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="datenmanipulation.html"><a href="datenmanipulation.html"><i class="fa fa-check"></i><b>9</b> Datenmanipulation</a>
<ul>
<li class="chapter" data-level="9.1" data-path="datenmanipulation.html"><a href="datenmanipulation.html#hinzufügen"><i class="fa fa-check"></i><b>9.1</b> Hinzufügen</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="datenmanipulation.html"><a href="datenmanipulation.html#variablen-hinzufügen"><i class="fa fa-check"></i><b>9.1.1</b> Variablen hinzufügen</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="datenmanipulation.html"><a href="datenmanipulation.html#löschen"><i class="fa fa-check"></i><b>9.2</b> Löschen</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="datenmanipulation.html"><a href="datenmanipulation.html#variablen-löschen"><i class="fa fa-check"></i><b>9.2.1</b> Variablen löschen</a></li>
<li class="chapter" data-level="9.2.2" data-path="datenmanipulation.html"><a href="datenmanipulation.html#fälle-löschen"><i class="fa fa-check"></i><b>9.2.2</b> Fälle löschen</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="datenmanipulation.html"><a href="datenmanipulation.html#umbenennen"><i class="fa fa-check"></i><b>9.3</b> Umbenennen</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="datenmanipulation.html"><a href="datenmanipulation.html#variablennamen-ändern"><i class="fa fa-check"></i><b>9.3.1</b> Variablennamen ändern</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="datenmanipulation.html"><a href="datenmanipulation.html#verändern"><i class="fa fa-check"></i><b>9.4</b> Verändern</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="datenmanipulation.html"><a href="datenmanipulation.html#werte-ändern"><i class="fa fa-check"></i><b>9.4.1</b> Werte ändern</a></li>
<li class="chapter" data-level="9.4.2" data-path="datenmanipulation.html"><a href="datenmanipulation.html#recodieren"><i class="fa fa-check"></i><b>9.4.2</b> Recodieren</a></li>
<li class="chapter" data-level="9.4.3" data-path="datenmanipulation.html"><a href="datenmanipulation.html#worte-ändern"><i class="fa fa-check"></i><b>9.4.3</b> Worte ändern</a></li>
<li class="chapter" data-level="9.4.4" data-path="datenmanipulation.html"><a href="datenmanipulation.html#faktorstufen-ändern"><i class="fa fa-check"></i><b>9.4.4</b> Faktorstufen ändern</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="datenmanipulation.html"><a href="datenmanipulation.html#aggreggieren"><i class="fa fa-check"></i><b>9.5</b> Aggreggieren</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="datenmanipulation.html"><a href="datenmanipulation.html#rbind-und-cbind"><i class="fa fa-check"></i><b>9.5.1</b> rbind und cbind</a></li>
<li class="chapter" data-level="9.5.2" data-path="datenmanipulation.html"><a href="datenmanipulation.html#merge"><i class="fa fa-check"></i><b>9.5.2</b> merge</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="datenmanipulation.html"><a href="datenmanipulation.html#sortieren"><i class="fa fa-check"></i><b>9.6</b> Sortieren</a></li>
<li class="chapter" data-level="9.7" data-path="datenmanipulation.html"><a href="datenmanipulation.html#transformieren"><i class="fa fa-check"></i><b>9.7</b> Transformieren</a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="datenmanipulation.html"><a href="datenmanipulation.html#von-long-nach-wide"><i class="fa fa-check"></i><b>9.7.1</b> Von Long nach Wide</a></li>
<li class="chapter" data-level="9.7.2" data-path="datenmanipulation.html"><a href="datenmanipulation.html#skalieren"><i class="fa fa-check"></i><b>9.7.2</b> Skalieren</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Einführung in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="datenmanipulation" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number">Kapitel 9</span> Datenmanipulation<a href="datenmanipulation.html#datenmanipulation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="hinzufügen" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> Hinzufügen<a href="datenmanipulation.html#hinzufügen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="variablen-hinzufügen" class="section level3 hasAnchor" number="9.1.1">
<h3><span class="header-section-number">9.1.1</span> Variablen hinzufügen<a href="datenmanipulation.html#variablen-hinzufügen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Mit den Operatoren <code>$</code> und Zuweisung <code>=</code> können Sie neue Spalten zu einem Datenrahmen hinzufügen. Dazu verwenden Sie einfach die Notation <code>df$Name</code> und weisen ihm einen neuen Datenvektor (Variable) zu.</p>
<p>Erstellen wir zum Beispiel einen data.frame namens test mit zwei Spalten: <code>ID</code> und <code>Alter</code>:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="datenmanipulation.html#cb116-1" aria-hidden="true" tabindex="-1"></a>test <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">&quot;ID&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>),</span>
<span id="cb116-2"><a href="datenmanipulation.html#cb116-2" aria-hidden="true" tabindex="-1"></a>                     <span class="st">&quot;Alter&quot;</span> <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">24</span>, <span class="dv">25</span>, <span class="dv">42</span>, <span class="dv">56</span>, <span class="dv">22</span>))</span></code></pre></div>
<p>Lassen Sie uns nun eine neue Spalte namens <code>Geschlecht</code> aus einem Vektor mit Geschlechtsdaten hinzufügen:</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="datenmanipulation.html#cb117-1" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>Geschlecht <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;männlich&quot;</span>, <span class="st">&quot;weiblich&quot;</span>, <span class="st">&quot;weiblich&quot;</span>, <span class="st">&quot;männlich&quot;</span>, <span class="st">&quot;weiblich&quot;</span>)</span></code></pre></div>
<p>Hier ist das Ergebnis:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="datenmanipulation.html#cb118-1" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   ID Alter Geschlecht
## 1  1    24   männlich
## 2  2    25   weiblich
## 3  3    42   weiblich
## 4  4    56   männlich
## 5  5    22   weiblich</code></pre>
<p>Dasselbe funktioniert auch mit eckigen Klammern <code>[]</code>:</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="datenmanipulation.html#cb120-1" aria-hidden="true" tabindex="-1"></a>test[<span class="st">&quot;Lieblingsfilm&quot;</span>] <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;Titanic&quot;</span>, <span class="st">&quot;Herr der Ringe&quot;</span>, <span class="st">&quot;Harry Potter&quot;</span>, <span class="st">&quot;Titanic&quot;</span>, <span class="st">&quot;Matrix&quot;</span>)</span>
<span id="cb120-2"><a href="datenmanipulation.html#cb120-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-3"><a href="datenmanipulation.html#cb120-3" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   ID Alter Geschlecht  Lieblingsfilm
## 1  1    24   männlich        Titanic
## 2  2    25   weiblich Herr der Ringe
## 3  3    42   weiblich   Harry Potter
## 4  4    56   männlich        Titanic
## 5  5    22   weiblich         Matrix</code></pre>
<p>Diese Methoden hängen neue Spalten immer ganz hinten (ganz rechts) an den data.frame an.
Wollen wir die neue Variable an einer bestimmten Position des data.frames einfügen nutzen wir die <code>add_column()</code> Funktion aus dem <code>tibble</code> Paket.</p>
<p>Wollen wir zum Beispiel eine Variable an die 2. Position des Datensatzes einfügen nutzen wir und spezifizieren das <code>.after</code> oder <code>.before</code> Argument mit dem Index oder dem Namen der vorherigen/folgenden Variable:</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="datenmanipulation.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tibble)</span>
<span id="cb122-2"><a href="datenmanipulation.html#cb122-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-3"><a href="datenmanipulation.html#cb122-3" aria-hidden="true" tabindex="-1"></a>test <span class="ot">=</span> <span class="fu">add_column</span>(test, <span class="at">Haustier =</span> <span class="fu">c</span>(<span class="st">&quot;Hund&quot;</span>, <span class="st">&quot;Katze&quot;</span>, <span class="st">&quot;Hund&quot;</span>, <span class="st">&quot;Hund&quot;</span>, <span class="st">&quot;Fische&quot;</span>),  <span class="at">.after =</span> <span class="dv">1</span>)</span>
<span id="cb122-4"><a href="datenmanipulation.html#cb122-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-5"><a href="datenmanipulation.html#cb122-5" aria-hidden="true" tabindex="-1"></a><span class="co"># oder </span></span>
<span id="cb122-6"><a href="datenmanipulation.html#cb122-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-7"><a href="datenmanipulation.html#cb122-7" aria-hidden="true" tabindex="-1"></a><span class="co"># test = add_column(test, Haustier = c(&quot;Hund&quot;, &quot;Katze&quot;, &quot;Hund&quot;, &quot;Hund&quot;, &quot;Fische&quot;),  .before = &quot;Alter&quot;)</span></span>
<span id="cb122-8"><a href="datenmanipulation.html#cb122-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-9"><a href="datenmanipulation.html#cb122-9" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   ID Haustier Alter Geschlecht  Lieblingsfilm
## 1  1     Hund    24   männlich        Titanic
## 2  2    Katze    25   weiblich Herr der Ringe
## 3  3     Hund    42   weiblich   Harry Potter
## 4  4     Hund    56   männlich        Titanic
## 5  5   Fische    22   weiblich         Matrix</code></pre>
</div>
</div>
<div id="löschen" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> Löschen<a href="datenmanipulation.html#löschen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="variablen-löschen" class="section level3 hasAnchor" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> Variablen löschen<a href="datenmanipulation.html#variablen-löschen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Wir möchten aus unserem <code>test</code> Datensatz die Variable <code>Lieblingsfilm</code> wieder löschen.</p>
<p>Der einfachste Weg um eine Variable zu löschen funktioniert wieder einmal mit den <code>$</code> Operator.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="datenmanipulation.html#cb124-1" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>Lieblingsfilm <span class="ot">=</span> <span class="cn">NULL</span></span>
<span id="cb124-2"><a href="datenmanipulation.html#cb124-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-3"><a href="datenmanipulation.html#cb124-3" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   ID Haustier Alter Geschlecht
## 1  1     Hund    24   männlich
## 2  2    Katze    25   weiblich
## 3  3     Hund    42   weiblich
## 4  4     Hund    56   männlich
## 5  5   Fische    22   weiblich</code></pre>
<p>Wollen wir mehrere Variablen auf einmal löschen empfiehlt sich die wie bereits bei der Auswahl von Variablen die <code>select()</code> Funktion aus dem <code>dplyr</code> Paket. Um wieder etwas zum löschen zu haben erstellen wir zunächst 3 leere Dummy Variablen:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="datenmanipulation.html#cb126-1" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>ZumLoeschen1 <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb126-2"><a href="datenmanipulation.html#cb126-2" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>ZumLoeschen2 <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb126-3"><a href="datenmanipulation.html#cb126-3" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>ZumLoeschen3 <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb126-4"><a href="datenmanipulation.html#cb126-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-5"><a href="datenmanipulation.html#cb126-5" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   ID Haustier Alter Geschlecht ZumLoeschen1 ZumLoeschen2 ZumLoeschen3
## 1  1     Hund    24   männlich           NA           NA           NA
## 2  2    Katze    25   weiblich           NA           NA           NA
## 3  3     Hund    42   weiblich           NA           NA           NA
## 4  4     Hund    56   männlich           NA           NA           NA
## 5  5   Fische    22   weiblich           NA           NA           NA</code></pre>
<p>Nun löschen wir diese 3 Variablen wieder</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="datenmanipulation.html#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb128-2"><a href="datenmanipulation.html#cb128-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-3"><a href="datenmanipulation.html#cb128-3" aria-hidden="true" tabindex="-1"></a>test <span class="ot">=</span> <span class="fu">select</span>(test, <span class="sc">-</span><span class="fu">c</span>(ZumLoeschen1, ZumLoeschen2, ZumLoeschen3))</span>
<span id="cb128-4"><a href="datenmanipulation.html#cb128-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-5"><a href="datenmanipulation.html#cb128-5" aria-hidden="true" tabindex="-1"></a><span class="co"># oder </span></span>
<span id="cb128-6"><a href="datenmanipulation.html#cb128-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-7"><a href="datenmanipulation.html#cb128-7" aria-hidden="true" tabindex="-1"></a><span class="co"># test = select(test, -contains(&quot;ZumLoeschen&quot;))</span></span>
<span id="cb128-8"><a href="datenmanipulation.html#cb128-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-9"><a href="datenmanipulation.html#cb128-9" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   ID Haustier Alter Geschlecht
## 1  1     Hund    24   männlich
## 2  2    Katze    25   weiblich
## 3  3     Hund    42   weiblich
## 4  4     Hund    56   männlich
## 5  5   Fische    22   weiblich</code></pre>
</div>
<div id="fälle-löschen" class="section level3 hasAnchor" number="9.2.2">
<h3><span class="header-section-number">9.2.2</span> Fälle löschen<a href="datenmanipulation.html#fälle-löschen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Die einfachste Art Fälle zu löschen ist das Überspeichern des data.frames ohne die zu löschenden Fälle. Diese Selektion machen wir einfach mit den eckigen Klammern <code>[]</code> und einem <code>-</code></p>
<p>Wir wollen die 2. Person im test data.frame löschen:</p>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="datenmanipulation.html#cb130-1" aria-hidden="true" tabindex="-1"></a>test <span class="ot">=</span> test[<span class="sc">-</span><span class="dv">2</span>,]</span>
<span id="cb130-2"><a href="datenmanipulation.html#cb130-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-3"><a href="datenmanipulation.html#cb130-3" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   ID Haustier Alter Geschlecht
## 1  1     Hund    24   männlich
## 3  3     Hund    42   weiblich
## 4  4     Hund    56   männlich
## 5  5   Fische    22   weiblich</code></pre>
<p>Genau wie im Kapitel Daten auswählen gelernt, können wir auch die zu löschenden Personen nach einer Logik auswählen:</p>
<p>Wir wollen alle Personen mit <code>Geschlecht == "männlich"</code> löschen:</p>
<div class="sourceCode" id="cb132"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb132-1"><a href="datenmanipulation.html#cb132-1" aria-hidden="true" tabindex="-1"></a>test <span class="ot">=</span> test[<span class="sc">-</span><span class="fu">c</span>(test<span class="sc">$</span>Geschlecht <span class="sc">==</span> <span class="st">&quot;männlich&quot;</span>),]</span>
<span id="cb132-2"><a href="datenmanipulation.html#cb132-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-3"><a href="datenmanipulation.html#cb132-3" aria-hidden="true" tabindex="-1"></a><span class="co"># oder </span></span>
<span id="cb132-4"><a href="datenmanipulation.html#cb132-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-5"><a href="datenmanipulation.html#cb132-5" aria-hidden="true" tabindex="-1"></a><span class="co"># test = test[c(test$Geschlecht != &quot;männlich&quot;),]</span></span>
<span id="cb132-6"><a href="datenmanipulation.html#cb132-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-7"><a href="datenmanipulation.html#cb132-7" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   ID Haustier Alter Geschlecht
## 3  3     Hund    42   weiblich
## 4  4     Hund    56   männlich
## 5  5   Fische    22   weiblich</code></pre>
</div>
</div>
<div id="umbenennen" class="section level2 hasAnchor" number="9.3">
<h2><span class="header-section-number">9.3</span> Umbenennen<a href="datenmanipulation.html#umbenennen" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="variablennamen-ändern" class="section level3 hasAnchor" number="9.3.1">
<h3><span class="header-section-number">9.3.1</span> Variablennamen ändern<a href="datenmanipulation.html#variablennamen-ändern" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Um uns die Variablennamen anzeigen zu lassen benutzen wie <code>names()</code>:</p>
<div class="sourceCode" id="cb134"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb134-1"><a href="datenmanipulation.html#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(test)</span></code></pre></div>
<pre><code>## [1] &quot;ID&quot;         &quot;Haustier&quot;   &quot;Alter&quot;      &quot;Geschlecht&quot;</code></pre>
<p>Die selbe Funktion können wir auch nutzen um Variablen umzubenennen.</p>
<p>Wie wollen die 1. Variable anstelle von <code>ID</code> gerne <code>Idenfikation</code> nennen:</p>
<div class="sourceCode" id="cb136"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb136-1"><a href="datenmanipulation.html#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(test)[<span class="dv">1</span>] <span class="ot">=</span> <span class="st">&quot;Idenfikation&quot;</span></span>
<span id="cb136-2"><a href="datenmanipulation.html#cb136-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-3"><a href="datenmanipulation.html#cb136-3" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   Idenfikation Haustier Alter Geschlecht
## 3            3     Hund    42   weiblich
## 4            4     Hund    56   männlich
## 5            5   Fische    22   weiblich</code></pre>
<p>Das selbe funktioniert auch mit logischen Argumenten (die Variable, die <code>ID</code> heisst…)</p>
<div class="sourceCode" id="cb138"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb138-1"><a href="datenmanipulation.html#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(test)[<span class="fu">names</span>(test) <span class="sc">==</span> <span class="st">&quot;ID&quot;</span>] <span class="ot">=</span> <span class="st">&quot;Idenfikation&quot;</span></span></code></pre></div>
<p>Wollen wir mehrere Variablen auf einmal umbennen eimpfiehlt sich die <code>rename()</code> Funktion aus <code>dplyr</code>. Wir bauen uns zunächst noch einmal 3 leere Dummy Variablen, die wir dann umbenennen:</p>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="datenmanipulation.html#cb139-1" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>A <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb139-2"><a href="datenmanipulation.html#cb139-2" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>B <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb139-3"><a href="datenmanipulation.html#cb139-3" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>C <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb139-4"><a href="datenmanipulation.html#cb139-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb139-5"><a href="datenmanipulation.html#cb139-5" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   Idenfikation Haustier Alter Geschlecht  A  B  C
## 3            3     Hund    42   weiblich NA NA NA
## 4            4     Hund    56   männlich NA NA NA
## 5            5   Fische    22   weiblich NA NA NA</code></pre>
<p>Nun zum Umbennen:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="datenmanipulation.html#cb141-1" aria-hidden="true" tabindex="-1"></a>test <span class="ot">=</span> <span class="fu">rename</span>(test, <span class="fu">c</span>(<span class="at">D =</span> A, </span>
<span id="cb141-2"><a href="datenmanipulation.html#cb141-2" aria-hidden="true" tabindex="-1"></a>                      <span class="at">E =</span> B,</span>
<span id="cb141-3"><a href="datenmanipulation.html#cb141-3" aria-hidden="true" tabindex="-1"></a>                      <span class="at">F =</span> C))</span>
<span id="cb141-4"><a href="datenmanipulation.html#cb141-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-5"><a href="datenmanipulation.html#cb141-5" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   Idenfikation Haustier Alter Geschlecht  D  E  F
## 3            3     Hund    42   weiblich NA NA NA
## 4            4     Hund    56   männlich NA NA NA
## 5            5   Fische    22   weiblich NA NA NA</code></pre>
</div>
</div>
<div id="verändern" class="section level2 hasAnchor" number="9.4">
<h2><span class="header-section-number">9.4</span> Verändern<a href="datenmanipulation.html#verändern" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="werte-ändern" class="section level3 hasAnchor" number="9.4.1">
<h3><span class="header-section-number">9.4.1</span> Werte ändern<a href="datenmanipulation.html#werte-ändern" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Die einfachste Art zum Ändern von Werten ist wie immer das selektieren und überspeichern.</p>
<p>Schauen wir uns einmal die <code>Alter</code> Variable in unserem test data.frame an:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="datenmanipulation.html#cb143-1" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   ID Alter Geschlecht
## 1  1    24   männlich
## 2  2    25   weiblich
## 3  3    42   weiblich
## 4  4    56   männlich
## 5  5    22   weiblich</code></pre>
<p>Wenn ich beispielsweise alle 25 Jahre alten Leute 35 werden lassen wollte, muss ich diese nur selektieren und überspeichern:</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="datenmanipulation.html#cb145-1" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>Alter[test<span class="sc">$</span>Alter <span class="sc">==</span> <span class="dv">25</span>] <span class="ot">=</span> <span class="dv">35</span></span>
<span id="cb145-2"><a href="datenmanipulation.html#cb145-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-3"><a href="datenmanipulation.html#cb145-3" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   ID Alter Geschlecht
## 1  1    24   männlich
## 2  2    35   weiblich
## 3  3    42   weiblich
## 4  4    56   männlich
## 5  5    22   weiblich</code></pre>
</div>
<div id="recodieren" class="section level3 hasAnchor" number="9.4.2">
<h3><span class="header-section-number">9.4.2</span> Recodieren<a href="datenmanipulation.html#recodieren" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Manchmal ist es nützlich Werte nicht nacheinander zu überspeichern, sondern simultan (also alle parallel) zu ändern.</p>
<p>Nehmen wir einmal an ich hätte ein Fragebogenitem zum Thema Introversion (Rating von 1-5). Die Frage lautet “Gehen Sie gerne auf Parties”?</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="datenmanipulation.html#cb147-1" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>Item <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">4</span>, <span class="dv">2</span>)</span>
<span id="cb147-2"><a href="datenmanipulation.html#cb147-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-3"><a href="datenmanipulation.html#cb147-3" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   ID Alter Geschlecht Item
## 1  1    24   männlich    1
## 2  2    35   weiblich    3
## 3  3    42   weiblich    5
## 4  4    56   männlich    4
## 5  5    22   weiblich    2</code></pre>
<p>Dieses Item gibt uns eine nützliche Information hinsichtlich der Introversion der Person, denn jemand sehr introvertiertes würde vermutlich mit eine niedrige Zahl ankreuzen (z.B. Person 1). Um sie ggf. mit anderen Items zu verrechnen müssen wir Items jedoch häufig umdrehen (umpolen), sodass hohe Werte auch eine hohe Ausprägung des Konstrukts reflektieren.</p>
<p>Mein Ziel ist also folgendes:</p>
<p>1 <span class="math inline">\(\rightarrow\)</span> 5
2 <span class="math inline">\(\rightarrow\)</span> 4
3 <span class="math inline">\(\rightarrow\)</span> 3
4 <span class="math inline">\(\rightarrow\)</span> 2
5 <span class="math inline">\(\rightarrow\)</span> 1</p>
<p>Der 1. Impuls wäre folgendes:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="datenmanipulation.html#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="co"># test$Item[test$Item == 1] = 5</span></span></code></pre></div>
<p>Das Problem damit ist, dass alle ursprünglichen 1 Werte die ich zu 5 mache, sich wieder zu 1 verändern, sobald ich die ursprünglichen 5er in 1 verändere. Ich muss also alle Werte “auf einmal” ändern.</p>
<p>Dafür nutzen wir die <code>recode()</code> Funktion aus dem Paket <code>dplyr</code>:</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="datenmanipulation.html#cb150-1" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>Item <span class="ot">=</span> <span class="fu">recode</span>(test<span class="sc">$</span>Item, <span class="st">&quot;1&quot;</span> <span class="ot">=</span> <span class="dv">5</span>, <span class="st">&quot;2&quot;</span> <span class="ot">=</span> <span class="dv">4</span>, <span class="st">&quot;4&quot;</span> <span class="ot">=</span> <span class="dv">2</span>, <span class="st">&quot;5&quot;</span> <span class="ot">=</span> <span class="dv">1</span>)</span>
<span id="cb150-2"><a href="datenmanipulation.html#cb150-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb150-3"><a href="datenmanipulation.html#cb150-3" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   ID Alter Geschlecht Item
## 1  1    24   männlich    5
## 2  2    35   weiblich    3
## 3  3    42   weiblich    1
## 4  4    56   männlich    2
## 5  5    22   weiblich    4</code></pre>
</div>
<div id="worte-ändern" class="section level3 hasAnchor" number="9.4.3">
<h3><span class="header-section-number">9.4.3</span> Worte ändern<a href="datenmanipulation.html#worte-ändern" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Das selbe funktioniert natürlich für Worte. Lassen Sie uns <code>männlich</code> und <code>weiblich</code> doch einmal in <code>Mann</code> und <code>Frau</code> verändern:</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="datenmanipulation.html#cb152-1" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>Geschlecht[test<span class="sc">$</span>Geschlecht <span class="sc">==</span> <span class="st">&quot;männlich&quot;</span>] <span class="ot">=</span> <span class="st">&quot;Mann&quot;</span></span>
<span id="cb152-2"><a href="datenmanipulation.html#cb152-2" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>Geschlecht[test<span class="sc">$</span>Geschlecht <span class="sc">==</span> <span class="st">&quot;weiblich&quot;</span>] <span class="ot">=</span> <span class="st">&quot;Frau&quot;</span></span>
<span id="cb152-3"><a href="datenmanipulation.html#cb152-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb152-4"><a href="datenmanipulation.html#cb152-4" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   ID Alter Geschlecht Item
## 1  1    24       Mann    5
## 2  2    35       Frau    3
## 3  3    42       Frau    1
## 4  4    56       Mann    2
## 5  5    22       Frau    4</code></pre>
<p>Manchmal haben wir jedoch Variablen mit unterschiedlichen Ausprägungen, die alle einen bestimmten Wortteil haben, der verändert werden soll.</p>
<p>Nehmen wir einmal folgende Variable:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="datenmanipulation.html#cb154-1" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>Gruppe <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;GruppeA&quot;</span>, <span class="st">&quot;GruppeB&quot;</span>, <span class="st">&quot;GruppeC&quot;</span>, <span class="st">&quot;GruppeD&quot;</span>, <span class="st">&quot;GruppeE&quot;</span>)</span>
<span id="cb154-2"><a href="datenmanipulation.html#cb154-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb154-3"><a href="datenmanipulation.html#cb154-3" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   ID Alter Geschlecht Item  Gruppe
## 1  1    24       Mann    5 GruppeA
## 2  2    35       Frau    3 GruppeB
## 3  3    42       Frau    1 GruppeC
## 4  4    56       Mann    2 GruppeD
## 5  5    22       Frau    4 GruppeE</code></pre>
<p>Nehmen wir an, ich wollte das Wort <code>Gruppe</code> ind <code>Klasse</code> verändern die Bezeichnungen A-E aber beibehalten. Dann muss ich einen bestimmten Worteil für alle Werte in der Variable ersetzten. Dafür ist die Funktion <code>gsub()</code> ideal:</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="datenmanipulation.html#cb156-1" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>Gruppe <span class="ot">=</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">&quot;Gruppe&quot;</span>, <span class="at">replacement =</span> <span class="st">&quot;Klasse&quot;</span>, <span class="at">x =</span> test<span class="sc">$</span>Gruppe)</span>
<span id="cb156-2"><a href="datenmanipulation.html#cb156-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb156-3"><a href="datenmanipulation.html#cb156-3" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   ID Alter Geschlecht Item  Gruppe
## 1  1    24       Mann    5 KlasseA
## 2  2    35       Frau    3 KlasseB
## 3  3    42       Frau    1 KlasseC
## 4  4    56       Mann    2 KlasseD
## 5  5    22       Frau    4 KlasseE</code></pre>
<p>Dasselbe lässt sich natürlich auf für Variablennamen anwenden. Wir erstellen noch einmal 3 leere Dummy Variablen</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="datenmanipulation.html#cb158-1" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>Test1 <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb158-2"><a href="datenmanipulation.html#cb158-2" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>Test2 <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb158-3"><a href="datenmanipulation.html#cb158-3" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>Test3 <span class="ot">=</span> <span class="cn">NA</span></span>
<span id="cb158-4"><a href="datenmanipulation.html#cb158-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb158-5"><a href="datenmanipulation.html#cb158-5" aria-hidden="true" tabindex="-1"></a>test</span></code></pre></div>
<pre><code>##   ID Alter Geschlecht Item  Gruppe Test1 Test2 Test3
## 1  1    24       Mann    5 KlasseA    NA    NA    NA
## 2  2    35       Frau    3 KlasseB    NA    NA    NA
## 3  3    42       Frau    1 KlasseC    NA    NA    NA
## 4  4    56       Mann    2 KlasseD    NA    NA    NA
## 5  5    22       Frau    4 KlasseE    NA    NA    NA</code></pre>
<p>Nun bennen wir sie mit <code>gsub()</code> automatisch um. Wir wollen probieren, dass <code>Test</code> zu <code>Item</code> wird:</p>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="datenmanipulation.html#cb160-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(test) <span class="ot">=</span> <span class="fu">gsub</span>(<span class="at">pattern =</span> <span class="st">&quot;Test&quot;</span>, <span class="at">replacement =</span> <span class="st">&quot;Item&quot;</span>, <span class="at">x =</span> <span class="fu">names</span>(test))</span></code></pre></div>
</div>
<div id="faktorstufen-ändern" class="section level3 hasAnchor" number="9.4.4">
<h3><span class="header-section-number">9.4.4</span> Faktorstufen ändern<a href="datenmanipulation.html#faktorstufen-ändern" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Zunächst legen wir einmal eine Faktorvariable an. Wir wollen die Variable <code>Diagnose</code> codieren für die Stufen Depression, Angststörung und Sucht.</p>
<div class="sourceCode" id="cb161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb161-1"><a href="datenmanipulation.html#cb161-1" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>Diagnose <span class="ot">=</span> <span class="fu">factor</span>(<span class="fu">c</span>(<span class="st">&quot;Depression&quot;</span>, <span class="st">&quot;Angststörung&quot;</span>, <span class="st">&quot;Sucht&quot;</span>, <span class="st">&quot;Depression&quot;</span>, <span class="st">&quot;Angststörung&quot;</span>))</span>
<span id="cb161-2"><a href="datenmanipulation.html#cb161-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb161-3"><a href="datenmanipulation.html#cb161-3" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>Diagnose</span></code></pre></div>
<pre><code>## [1] Depression   Angststörung Sucht        Depression   Angststörung
## Levels: Angststörung Depression Sucht</code></pre>
<p>Wir die Namen der Faktorstufen z.B. etwas abgekürzt haben. Wir gehen genauso vor wie bei der Umbenennung von Variablen, nur nutzen wir statt <code>names()</code> den Befehl <code>levels()</code>:</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="datenmanipulation.html#cb163-1" aria-hidden="true" tabindex="-1"></a><span class="fu">levels</span>(test<span class="sc">$</span>Diagnose) <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&quot;Angst&quot;</span>, <span class="st">&quot;Depr.&quot;</span>, <span class="st">&quot;Sucht&quot;</span>)</span>
<span id="cb163-2"><a href="datenmanipulation.html#cb163-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb163-3"><a href="datenmanipulation.html#cb163-3" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>Diagnose</span></code></pre></div>
<pre><code>## [1] Depr. Angst Sucht Depr. Angst
## Levels: Angst Depr. Sucht</code></pre>
<p>Wie wir sehen, sortiert R Faktorstufen zunächst einmal immer alphabetisch. Vielleicht wollen wir, dass anstelle von Angst die Depression die 1. Faktorstufe ist (z.B. zur Darstellung in einer Graphik o.ä.). Dafür nutzen wir die Funktion <code>relevel()</code></p>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="datenmanipulation.html#cb165-1" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>Diagnose <span class="ot">=</span> <span class="fu">relevel</span>(test<span class="sc">$</span>Diagnose, <span class="st">&quot;Depr.&quot;</span>)</span>
<span id="cb165-2"><a href="datenmanipulation.html#cb165-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb165-3"><a href="datenmanipulation.html#cb165-3" aria-hidden="true" tabindex="-1"></a>test<span class="sc">$</span>Diagnose</span></code></pre></div>
<pre><code>## [1] Depr. Angst Sucht Depr. Angst
## Levels: Depr. Angst Sucht</code></pre>
</div>
</div>
<div id="aggreggieren" class="section level2 hasAnchor" number="9.5">
<h2><span class="header-section-number">9.5</span> Aggreggieren<a href="datenmanipulation.html#aggreggieren" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="rbind-und-cbind" class="section level3 hasAnchor" number="9.5.1">
<h3><span class="header-section-number">9.5.1</span> rbind und cbind<a href="datenmanipulation.html#rbind-und-cbind" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="merge" class="section level3 hasAnchor" number="9.5.2">
<h3><span class="header-section-number">9.5.2</span> merge<a href="datenmanipulation.html#merge" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
</div>
<div id="sortieren" class="section level2 hasAnchor" number="9.6">
<h2><span class="header-section-number">9.6</span> Sortieren<a href="datenmanipulation.html#sortieren" class="anchor-section" aria-label="Anchor link to header"></a></h2>
</div>
<div id="transformieren" class="section level2 hasAnchor" number="9.7">
<h2><span class="header-section-number">9.7</span> Transformieren<a href="datenmanipulation.html#transformieren" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="von-long-nach-wide" class="section level3 hasAnchor" number="9.7.1">
<h3><span class="header-section-number">9.7.1</span> Von Long nach Wide<a href="datenmanipulation.html#von-long-nach-wide" class="anchor-section" aria-label="Anchor link to header"></a></h3>
</div>
<div id="skalieren" class="section level3 hasAnchor" number="9.7.2">
<h3><span class="header-section-number">9.7.2</span> Skalieren<a href="datenmanipulation.html#skalieren" class="anchor-section" aria-label="Anchor link to header"></a></h3>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="daten-auswählen.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["CFH_R_bookdown.pdf", "CFH_R_bookdown.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
